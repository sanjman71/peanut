- title(@title)
- stylesheet('appointments', 'calendar', 'jquery.timepickr')
- javascript('waitlists', 'rpx', 'ui.timepickr', 'jquery.timepickr')

.span-24.mat.padding-top-10.padding-bottom-10
  .span-22.prepend-1.last
    %h2== Waitlist
  .span-22.prepend-1.last
    %h4== Add yourself to the waitlist
      
%hr.space

.span-15.prepend-1.last
  = display_flash(:all)

%hr.space

- form_for(@waitlist, :url => waitlists_path, :html => {:method => :post, :id => 'add_waitlist_form'}) do |f|
  = hidden_field :waitlist, :service_id
  = hidden_field :waitlist, :provider_id
  = hidden_field :waitlist, :provider_type
  = hidden_field :waitlist, :customer_id

  .waitlist.review{:style => 'font-size: 1.3em;'}
    -# what
    .span-15.last.padding-bottom-5#what
      .span-3.label.block
        %h4.bottom.block== What:
      .span-12.last.data
        %h4= @waitlist.service.name

    -# with
    .span-15.last.padding-bottom-5#with
      .span-3.label.block
        %h4.bottom.block== With:
      .span-12.last.data
        %h4= @waitlist.provider.name

    - if @customer_signup
      -# show customer signup before user selects time ranges
      = render(:partial => 'appointments/appointment_customer_signup', :locals => {:signup => @customer_signup})
    - else
      -# when
      .span-15.last.padding-bottom-5#when
        .span-3.label.block
          %h4.bottom.block== When:
        .span-12.last.data
          %h4== Tell us the dates and times that you would like be waitlisted for:
      
      -# nested time range attributes
      - f.fields_for :waitlist_time_ranges do |time_range_form|
        %h4.span-12.prepend-3.last#when_dates
          .span-2.padding-top-5
            %span{:style => 'padding-right: 5px;'}== Dates:
          = time_range_form.text_field :start_date, :id => 'start_date', :class => 'datepicker large_text_field_style', :autocomplete => 'off'
          %span{:style => 'padding: 0 5px;'}== to
          = time_range_form.text_field :end_date, :id => 'end_date', :class => 'datepicker large_text_field_style', :autocomplete => 'off'

        %h4.span-12.prepend-3.last#when_times
          .span-2.padding-top-5
            %span{:style => 'padding-right: 5px;'}== Times:
          = time_range_form.text_field :start_time_hours, :id => 'start_time', :class => 'timepicker large_text_field_style', :autocomplete => 'off'
          %span{:style => 'padding: 0 5px;'}== to
          = time_range_form.text_field :end_time_hours, :id => 'end_time', :class => 'timepicker large_text_field_style', :autocomplete => 'off'

  %hr.space

  -# submit
  .span-5.prepend-1.last
    #add_waitlist
      = link_to "Add", '', :class => 'rounded button color', :id => 'add_waitlist_submit', :style => 'font-size: 1.5em; color: #FFFFFF; font-weight: normal;'
      %span#cancel{:style => 'font-size: 1.0em;'}
        == &nbsp;or&nbsp;
        = link_to 'Cancel', openings_path

  